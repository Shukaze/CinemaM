{"ast":null,"code":"import _defineProperty from \"D:\\\\iCinema-master\\\\iCinema-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\iCinema-master\\\\iCinema-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\iCinema-master\\\\iCinema-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\iCinema-master\\\\iCinema-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\iCinema-master\\\\iCinema-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\iCinema-master\\\\iCinema-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\iCinema-master\\\\iCinema-master\\\\frontend\\\\src\\\\pages\\\\ScheduleMovies\\\\index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { search } from '../../Utils';\nimport { MoviesSchedule, Pagination } from '../../components';\nimport { Input, Loading, ListGroup } from '../../components/common';\nimport { getMovies as _getMovies } from '../../actions/moviesAction';\n\nvar ScheduleForm = /*#__PURE__*/function (_Component) {\n  _inherits(ScheduleForm, _Component);\n\n  function ScheduleForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ScheduleForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ScheduleForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      genres: [],\n      pageSize: 12,\n      currentPage: 1,\n      searchFilter: ''\n    };\n\n    _this.handleChange = function (name, value) {\n      var _this$setState;\n\n      _this.setState((_this$setState = {}, _defineProperty(_this$setState, name, value), _defineProperty(_this$setState, \"currentPage\", 1), _this$setState));\n    };\n\n    _this.onPageChange = function (page) {\n      _this.setState({\n        currentPage: page\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ScheduleForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getMovies();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          currentPage = _this$state.currentPage,\n          searchFilter = _this$state.searchFilter,\n          pageSize = _this$state.pageSize;\n      var movies = this.props.movies;\n      var filteredMovies = [];\n\n      if (_.isEmpty(movies)) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"background-container pt-5\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 14\n          }\n        }, \" \", /*#__PURE__*/React.createElement(Loading, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 58\n          }\n        }), \" \");\n      }\n      /* Checking for searched item if nothing searched it will just set it to allMovies*/\n\n\n      filteredMovies = search(movies, searchFilter, 'title');\n      filteredMovies = dates(filteredMovies, stdate);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"background-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mx-5 py-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-10 col-sm-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        onChange: function onChange(event) {\n          return _this2.handleChange('searchFilter', event.target.value);\n        },\n        label: \"Search Movie\",\n        iconClass: \"fas fa-search\",\n        placeholder: \"Search...\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }\n      }), !!filteredMovies ? /*#__PURE__*/React.createElement(MoviesSchedule, {\n        pageSize: pageSize,\n        currentPage: currentPage,\n        movies: filteredMovies,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 19\n        }\n      }) : /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"text-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 19\n        }\n      }, \"No Movies\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Pagination, {\n        itemsCount: filteredMovies.length,\n        pageSize: pageSize,\n        onPageChange: this.onPageChange,\n        currentPage: currentPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }\n      })))));\n    }\n  }]);\n\n  return ScheduleForm;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    movies: state.movie.movies\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getMovies: function getMovies() {\n      return dispatch(_getMovies());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ScheduleForm);","map":{"version":3,"sources":["D:/iCinema-master/iCinema-master/frontend/src/pages/ScheduleMovies/index.js"],"names":["React","Component","connect","_","search","MoviesSchedule","Pagination","Input","Loading","ListGroup","getMovies","ScheduleForm","state","genres","pageSize","currentPage","searchFilter","handleChange","name","value","setState","onPageChange","page","props","movies","filteredMovies","isEmpty","dates","stdate","event","target","length","mapStateToProps","movie","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport { search } from '../../Utils';\r\nimport { MoviesSchedule, Pagination } from '../../components';\r\nimport { Input, Loading, ListGroup } from '../../components/common';\r\n\r\nimport { getMovies } from '../../actions/moviesAction'; \r\n\r\nclass ScheduleForm extends Component {\r\n  state = {\r\n    genres: [],\r\n    pageSize: 12,\r\n    currentPage: 1,\r\n    searchFilter: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getMovies();\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value, currentPage: 1 });\r\n  }\r\n  onPageChange = (page) => {\r\n    this.setState({ currentPage: page });\r\n  }\r\n\r\n  render() {\r\n    const { \r\n      currentPage, \r\n      searchFilter,\r\n      pageSize\r\n    } = this.state;\r\n\r\n    const { movies } = this.props; \r\n    let filteredMovies = [];\r\n\r\n    if(_.isEmpty(movies)) { \r\n      return <div className='background-container pt-5'> <Loading/> </div>\r\n    }\r\n\r\n    /* Checking for searched item if nothing searched it will just set it to allMovies*/\r\n    filteredMovies = search(movies, searchFilter, 'title');\r\n    filteredMovies = dates(filteredMovies, stdate);\r\n    return (\r\n     <div className='background-container'>\r\n        <div className='mx-5 py-5'>\r\n          <div className='row'>\r\n            \r\n          \r\n            <div className='col-lg-10 col-sm-12'>\r\n              <Input onChange={event => this.handleChange('searchFilter', event.target.value)}  label='Search Movie' iconClass='fas fa-search' placeholder='Search...'/>\r\n              {\r\n                !! filteredMovies\r\n                ? <MoviesSchedule pageSize={pageSize} currentPage={currentPage} movies={filteredMovies}/>  \r\n                : <h1 className='text-white'>No Movies</h1>\r\n              }\r\n              <br/>\r\n              <Pagination\r\n                itemsCount={filteredMovies.length}\r\n                pageSize={pageSize}\r\n                onPageChange={this.onPageChange}\r\n                currentPage={currentPage}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { \r\n    movies: state.movie.movies\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return { \r\n    getMovies: () => dispatch(getMovies())\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps) (ScheduleForm);\r\n"]},"metadata":{},"sourceType":"module"}