{"ast":null,"code":"import _slicedToArray from \"D:\\\\iCinema-master\\\\iCinema-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\iCinema-master\\\\iCinema-master\\\\frontend\\\\src\\\\pages\\\\UploadPage\\\\index.js\";\nimport React, { useState } from 'react';\nimport Input from '../../components/common/Input';\nimport Button from '../../components/common/Button';\nimport FileUpload from '../../Utils/FileUpload';\nimport Axios from 'axios';\nvar genres = [{\n  key: 1,\n  value: \"Action\"\n}, {\n  key: 2,\n  value: \"Horror\"\n}, {\n  key: 3,\n  value: \"Fantasy\"\n}, {\n  key: 4,\n  value: \"Comedy\"\n}, {\n  key: 5,\n  value: \"Thriller\"\n}, {\n  key: 6,\n  value: \"Drama\"\n}, {\n  key: 7,\n  value: \"Animation\"\n}];\n\nfunction UploadMoviePage(props) {\n  var _this = this;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      TitleValue = _useState2[0],\n      setTitleValue = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      DescriptionValue = _useState4[0],\n      setDescriptionValue = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      RateValue = _useState6[0],\n      setRateValue = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      TrailerLinkValue = _useState8[0],\n      setTrailerLinkValue = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      MovieLengthValue = _useState10[0],\n      setMovieLengthValue = _useState10[1];\n\n  var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      numberInStocksValue = _useState12[0],\n      setNumberInStocksValue = _useState12[1];\n\n  var _useState13 = useState(1),\n      _useState14 = _slicedToArray(_useState13, 2),\n      GenresValue = _useState14[0],\n      setGenresValue = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      Images = _useState16[0],\n      setImages = _useState16[1];\n\n  var onTitleChange = function onTitleChange(event) {\n    setTitleValue(event.currentTarget.value);\n  };\n\n  var onDescriptionChange = function onDescriptionChange(event) {\n    setDescriptionValue(event.currentTarget.value);\n  };\n\n  var onNumberInStocksChange = function onNumberInStocksChange(event) {\n    setNumberInStocksValue(event.currentTarget.value);\n  };\n\n  var onGenresSelectChange = function onGenresSelectChange(event) {\n    setGenresValue(event.currentTarget.value);\n  };\n\n  var onRateChange = function onRateChange(event) {\n    setRateValue(event.currentTarget.value);\n  };\n\n  var onTrailerChange = function onTrailerChange(event) {\n    setTrailerLinkValue(event.currentTarget.value);\n  };\n\n  var onMoviesLengthChange = function onMoviesLengthChange(event) {\n    setMovieLengthValue(event.currentTarget.value);\n  };\n\n  var updateImages = function updateImages(newImages) {\n    setImages(newImages);\n  };\n\n  var onSubmit = function onSubmit(event) {\n    event.preventDefault();\n\n    if (!TitleValue || !DescriptionValue || !numberInStocksValue || !GenresValue || !RateValue || !TrailerLinkValue || !MovieLengthValue || !Images) {\n      return alert('fill all the fields first!');\n    }\n\n    var variables = {\n      writer: props.user.userData._id,\n      title: TitleValue,\n      description: DescriptionValue,\n      numberInStocks: numberInStocksValue,\n      images: Images,\n      genre: GenresValue,\n      rate: RateValue,\n      trailerLink: TrailerLinkValue,\n      movieLength: MovieLengthValue\n    };\n    Axios.post('/movies/addmovie', variables).then(function (response) {\n      if (response.data.success) {\n        alert('Product Successfully Uploaded');\n        props.history.push('/');\n      } else {\n        alert('Failed to upload Product');\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"background-container pt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, \"Add a new movie\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FileUpload, {\n    refreshFunction: updateImages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    label: \"Title\",\n    onChange: onTitleChange,\n    value: TitleValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    label: \"Number In Stocks\",\n    onChange: onNumberInStocksChange,\n    value: numberInStocksValue,\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: onGenresSelectChange,\n    value: GenresValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, genres.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: item.key,\n      value: item.key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, item.value, \" \");\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: onRateChange,\n    value: RateValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: onTrailerChange,\n    value: TrailerLinkValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: onMoviesLengthChange,\n    value: MovieLengthValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    onChange: onDescriptionChange,\n    value: DescriptionValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, \"Submit\"))));\n}\n\nexport default UploadMoviePage;","map":{"version":3,"sources":["D:/iCinema-master/iCinema-master/frontend/src/pages/UploadPage/index.js"],"names":["React","useState","Input","Button","FileUpload","Axios","genres","key","value","UploadMoviePage","props","TitleValue","setTitleValue","DescriptionValue","setDescriptionValue","RateValue","setRateValue","TrailerLinkValue","setTrailerLinkValue","MovieLengthValue","setMovieLengthValue","numberInStocksValue","setNumberInStocksValue","GenresValue","setGenresValue","Images","setImages","onTitleChange","event","currentTarget","onDescriptionChange","onNumberInStocksChange","onGenresSelectChange","onRateChange","onTrailerChange","onMoviesLengthChange","updateImages","newImages","onSubmit","preventDefault","alert","variables","writer","user","userData","_id","title","description","numberInStocks","images","genre","rate","trailerLink","movieLength","post","then","response","data","success","history","push","map","item"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Input from '../../components/common/Input';\nimport Button from '../../components/common/Button';\nimport FileUpload from '../../Utils/FileUpload'\nimport Axios from 'axios';\n\n\n\nconst genres = [\n    { key: 1, value: \"Action\" },\n    { key: 2, value: \"Horror\" },\n    { key: 3, value: \"Fantasy\" },\n    { key: 4, value: \"Comedy\" },\n    { key: 5, value: \"Thriller\" },\n    { key: 6, value: \"Drama\" },\n    { key: 7, value: \"Animation\" }\n]\n\nfunction UploadMoviePage(props) {\n\n    const [TitleValue, setTitleValue] = useState(\"\")\n    const [DescriptionValue, setDescriptionValue] = useState(\"\")\n    const [RateValue, setRateValue] = useState(\"\")\n    const [TrailerLinkValue, setTrailerLinkValue] = useState(\"\")\n    const [MovieLengthValue, setMovieLengthValue] = useState(\"\")\n    const [numberInStocksValue, setNumberInStocksValue] = useState(0)\n    const [GenresValue, setGenresValue] = useState(1)\n\n    const [Images, setImages] = useState([])\n\n\n    const onTitleChange = (event) => {\n        setTitleValue(event.currentTarget.value)\n    }\n\n    const onDescriptionChange = (event) => {\n        setDescriptionValue(event.currentTarget.value)\n    }\n\n    const onNumberInStocksChange = (event) => {\n        setNumberInStocksValue(event.currentTarget.value)\n    }\n\n    const onGenresSelectChange = (event) => {\n        setGenresValue(event.currentTarget.value)\n    }\n\n    const onRateChange = (event) => {\n        setRateValue(event.currentTarget.value)\n    }\n\n    const onTrailerChange = (event) => {\n        setTrailerLinkValue(event.currentTarget.value)\n    }\n\n    const onMoviesLengthChange = (event) => {\n        setMovieLengthValue(event.currentTarget.value)\n    }\n\n    const updateImages = (newImages) => {\n        setImages(newImages)\n    }\n    const onSubmit = (event) => {\n        event.preventDefault();\n\n\n        if (!TitleValue || !DescriptionValue || !numberInStocksValue ||\n            !GenresValue || !RateValue || !TrailerLinkValue || !MovieLengthValue || !Images) {\n            return alert('fill all the fields first!')\n        }\n\n        const variables = {\n            writer: props.user.userData._id,\n            title: TitleValue,\n            description: DescriptionValue,\n            numberInStocks: numberInStocksValue,\n            images: Images,\n            genre: GenresValue,\n            rate: RateValue,\n            trailerLink: TrailerLinkValue,\n            movieLength: MovieLengthValue\n        }\n\n        Axios.post('/movies/addmovie', variables)\n            .then(response => {\n                if (response.data.success) {\n                    alert('Product Successfully Uploaded')\n                    props.history.push('/')\n                } else {\n                    alert('Failed to upload Product')\n                }\n            })\n\n    }\n\n    return (\n        <div className=\"background-container pt-5\">\n        <div className=\"container\">\n          <h1 className=\"header\">Add a new movie</h1>\n\n            <form onSubmit={onSubmit} >\n\n                {/* DropZone */}\n                <FileUpload refreshFunction={updateImages} />\n\n                <br />\n                <br />\n                <Input\n                    label=\"Title\"\n                    onChange={onTitleChange}\n                    value={TitleValue}\n                />\n                <br />\n                <br />\n                \n                \n                <Input\n                    label=\"Number In Stocks\"\n                    onChange={onNumberInStocksChange}\n                    value={numberInStocksValue}\n                    type=\"number\"\n                /> \n                <br /><br />\n                <select onChange={onGenresSelectChange} value={GenresValue}>\n                    {genres.map(item => (\n                        <option key={item.key} value={item.key}>{item.value} </option>\n                    ))}\n                </select>\n                <br />\n                <br />\n                <Input\n                    onChange={onRateChange}\n                    value={RateValue}\n                />  \n                <br />\n                <br />\n                <Input\n                    onChange={onTrailerChange}\n                    value={TrailerLinkValue}\n                />  \n                <br />\n                <br />\n                <Input\n                    onChange={onMoviesLengthChange}\n                    value={MovieLengthValue}\n                />  \n                <label>Description</label>\n                <textarea\n                    onChange={onDescriptionChange}\n                    value={DescriptionValue}\n                />\n                <br />\n                <br />\n                \n                <Button\n                    onClick={onSubmit}\n                >\n                    Submit\n                </Button>\n\n            </form>\n          </div>\n        </div>\n    )\n}\n\nexport default UploadMoviePage\n"]},"metadata":{},"sourceType":"module"}