{"ast":null,"code":"import _slicedToArray from \"D:\\\\iCinema-master\\\\iCinema-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\iCinema-master\\\\iCinema-master\\\\frontend\\\\src\\\\Context\\\\AuthContext.js\";\n\nimport React, { createContext, useState, useEffect } from 'react';\nimport AuthAction from '../actions/authAction';\nexport var AuthContext = createContext();\nexport default (function (_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isAuthenticated = _useState4[0],\n      setIsAuthenticated = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoaded = _useState6[0],\n      setIsLoaded = _useState6[1];\n\n  useEffect(function () {\n    AuthAction.isAuthenticated().then(function (data) {\n      setUser(data.user);\n      setIsAuthenticated(data.isAuthenticated);\n      setIsLoaded(true);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }\n  }, !isLoaded ? /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 30\n    }\n  }, \"Loading\") : /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: {\n      user: user,\n      isLoaded: isLoaded,\n      isAuthenticated: isAuthenticated,\n      setIsAuthenticated: setIsAuthenticated\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 17\n    }\n  }, children));\n});","map":{"version":3,"sources":["D:/iCinema-master/iCinema-master/frontend/src/Context/AuthContext.js"],"names":["React","createContext","useState","useEffect","AuthAction","AuthContext","children","user","setUser","isAuthenticated","setIsAuthenticated","isLoaded","setIsLoaded","then","data"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,aAAf,EAA8BC,QAA9B,EAAwCC,SAAxC,QAAwD,OAAxD;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AAEA,OAAO,IAAMC,WAAW,GAAGJ,aAAa,EAAjC;AAEP,gBAAe,gBAAkB;AAAA,MAAfK,QAAe,QAAfA,QAAe;;AAAA,kBACLJ,QAAQ,CAAC,IAAD,CADH;AAAA;AAAA,MACtBK,IADsB;AAAA,MAChBC,OADgB;;AAAA,mBAEiBN,QAAQ,CAAC,KAAD,CAFzB;AAAA;AAAA,MAEtBO,eAFsB;AAAA,MAELC,kBAFK;;AAAA,mBAGGR,QAAQ,CAAC,KAAD,CAHX;AAAA;AAAA,MAGtBS,QAHsB;AAAA,MAGZC,WAHY;;AAK7BT,EAAAA,SAAS,CAAC,YAAM;AACZC,IAAAA,UAAU,CAACK,eAAX,GAA6BI,IAA7B,CAAkC,UAAAC,IAAI,EAAG;AACrCN,MAAAA,OAAO,CAACM,IAAI,CAACP,IAAN,CAAP;AACAG,MAAAA,kBAAkB,CAACI,IAAI,CAACL,eAAN,CAAlB;AACAG,MAAAA,WAAW,CAAC,IAAD,CAAX;AACH,KAJD;AAKH,GANQ,EAMN,EANM,CAAT;AAQA,sBACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,CAACD,QAAD,gBAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAZ,gBACD,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAG;AAACJ,MAAAA,IAAI,EAAJA,IAAD;AAAOI,MAAAA,QAAQ,EAARA,QAAP;AAAiBF,MAAAA,eAAe,EAAfA,eAAjB;AAAkCC,MAAAA,kBAAkB,EAAlBA;AAAlC,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKJ,QADL,CAFJ,CADR;AASH,CAtBD","sourcesContent":["import React, {createContext, useState, useEffect} from 'react';\r\nimport AuthAction from '../actions/authAction';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport default ({ children }) => {\r\n    const [user, setUser] = useState(null);\r\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n    useEffect(() => {\r\n        AuthAction.isAuthenticated().then(data =>{\r\n            setUser(data.user);\r\n            setIsAuthenticated(data.isAuthenticated);\r\n            setIsLoaded(true);\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n            <div>\r\n                {!isLoaded ? <h1>Loading</h1>: \r\n                <AuthContext.Provider value ={{user, isLoaded, isAuthenticated, setIsAuthenticated}}>\r\n                    {children}    \r\n                </AuthContext.Provider>}\r\n            </div>\r\n    )\r\n\r\n}"]},"metadata":{},"sourceType":"module"}