{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"D:\\\\Margo\\\\frontend\\\\src\\\\components\\\\Navbar\\\\index.js\";\n\nimport React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { signOut as _signOut } from '../../actions/authAction';\nimport AuthService from '../../actions/authAction';\nimport './style.css';\n\nfunction toggleNav(e) {\n  var slider = document.getElementsByClassName('slider')[0];\n  var burger = document.getElementsByClassName('burger')[0];\n  var list = document.getElementsByClassName('list')[0];\n  document.getElementById('root').style.overflow = 'hidden';\n  burger.classList.toggle('burger-active');\n  slider.classList.toggle('active');\n  list.childNodes.forEach(function (e, index) {\n    if (e.style.animation) e.style.animation = '';else e.style.animation = \"listItemFade 0.5s ease forwards \".concat(index / 5 + 0.3, \"s\");\n  });\n}\n\nvar Navbar = function Navbar(props) {\n  var _useContext = useContext(AuthContext),\n      isAuthenticated = _useContext.isAuthenticated,\n      user = _useContext.user,\n      setIsAuthenticated = _useContext.setIsAuthenticated,\n      setUser = _useContext.setUser;\n\n  var unauthenticatedNavBar = function unauthenticatedNavBar() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n      onClick: function onClick() {\n        return toggleNav();\n      },\n      to: \"/movies\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 7\n      }\n    }, \"Home\"), /*#__PURE__*/React.createElement(Link, {\n      onClick: function onClick() {\n        return toggleNav();\n      },\n      to: \"/movies/schedule\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 7\n      }\n    }, \"Schedule\"), /*#__PURE__*/React.createElement(Link, {\n      onClick: function onClick() {\n        return toggleNav();\n      },\n      to: \"/chat\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 7\n      }\n    }, \"Chat\"), /*#__PURE__*/React.createElement(Link, {\n      onClick: function onClick() {\n        return toggleNav();\n      },\n      to: \"/login\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 7\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(Link, {\n      onClick: function onClick() {\n        return toggleNav();\n      },\n      to: \"/resigter\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }\n    }, \"Register\"));\n  };\n\n  var onClickLogoutHandler = function onClickLogoutHandler(e) {\n    var slider = document.getElementsByClassName('slider')[0];\n    var burger = document.getElementsByClassName('burger')[0];\n    var list = document.getElementsByClassName('list')[0];\n    document.getElementById('root').style.overflow = 'hidden';\n    burger.classList.toggle('burger-active');\n    slider.classList.toggle('active');\n    list.childNodes.forEach(function (e, index) {\n      if (e.style.animation) e.style.animation = '';else e.style.animation = \"listItemFade 0.5s ease forwards \".concat(index / 5 + 0.3, \"s\");\n    });\n    AuthService.logout().then(function (data) {\n      if (data.success) {\n        setUser(data.user);\n        setIsAuthenticated(false);\n      }\n    });\n  };\n\n  var authenticatedNavBar = function authenticatedNavBar() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n      onClick: function onClick() {\n        return toggleNav();\n      },\n      to: \"/movies\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, \"Home\"), /*#__PURE__*/React.createElement(Link, {\n      onClick: function onClick() {\n        return toggleNav();\n      },\n      to: \"/movies/schedule\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, \"Schedule\"), /*#__PURE__*/React.createElement(Link, {\n      onClick: function onClick() {\n        return toggleNav();\n      },\n      to: \"/chat\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, \"Chat\"), /*#__PURE__*/React.createElement(Link, {\n      onClick: onClickLogoutHandler,\n      to: \"/\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, \"LogOut\"), user.role === 'admin' ? /*#__PURE__*/React.createElement(Link, {\n      onClick: function onClick() {\n        return toggleNav();\n      },\n      to: \"/movies/addmovie\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, \"Add movies\") : null);\n  };\n\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"nav-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"burger\",\n    onClick: function onClick(e) {\n      return toggleNav(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"line1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"line2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"line3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slider\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, !isAuthenticated ? unauthenticatedNavBar() : authenticatedNavBar())));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loggedIn: state.auth.loggedIn\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    signOut: function signOut() {\n      return dispatch(_signOut());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);","map":{"version":3,"sources":["D:/Margo/frontend/src/components/Navbar/index.js"],"names":["React","useContext","Link","connect","signOut","AuthService","toggleNav","e","slider","document","getElementsByClassName","burger","list","getElementById","style","overflow","classList","toggle","childNodes","forEach","index","animation","Navbar","props","AuthContext","isAuthenticated","user","setIsAuthenticated","setUser","unauthenticatedNavBar","onClickLogoutHandler","logout","then","data","success","authenticatedNavBar","role","mapStateToProps","state","loggedIn","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {useContext} from 'react';\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { signOut } from '../../actions/authAction';\nimport AuthService from '../../actions/authAction';\nimport './style.css';\n\nfunction toggleNav(e) {\n  const slider = document.getElementsByClassName('slider')[0];\n  const burger = document.getElementsByClassName('burger')[0];\n  const list = document.getElementsByClassName('list')[0];\n  document.getElementById('root').style.overflow = 'hidden';\n  burger.classList.toggle('burger-active')\n  slider.classList.toggle('active')\n  list.childNodes.forEach((e, index) => {\n    if (e.style.animation)\n      e.style.animation = ''\n    else\n      e.style.animation = `listItemFade 0.5s ease forwards ${index / 5 + 0.3}s`;\n  });\n}\nconst Navbar = props => {\n  const { isAuthenticated, user, setIsAuthenticated, setUser} = useContext(AuthContext);\n\n  const unauthenticatedNavBar = () =>{\n    return(\n      <>\n      <Link onClick={() => toggleNav()} to=\"/movies\">Home</Link>\n      <Link onClick={() => toggleNav()} to=\"/movies/schedule\">Schedule</Link>\n      <Link onClick={() => toggleNav()} to=\"/chat\">Chat</Link>\n      <Link onClick={() => toggleNav()} to=\"/login\">Login</Link>\n      <Link onClick={() => toggleNav()} to=\"/resigter\">Register</Link>\n      </>\n    )\n  }\n\nconst onClickLogoutHandler = (e) =>{\n  const slider = document.getElementsByClassName('slider')[0];\n  const burger = document.getElementsByClassName('burger')[0];\n  const list = document.getElementsByClassName('list')[0];\n  document.getElementById('root').style.overflow = 'hidden';\n  burger.classList.toggle('burger-active')\n  slider.classList.toggle('active')\n  list.childNodes.forEach((e, index) => {\n    if (e.style.animation)\n      e.style.animation = ''\n    else\n      e.style.animation = `listItemFade 0.5s ease forwards ${index / 5 + 0.3}s`;\n    });\n  AuthService.logout().then(data=>{\n    if(data.success){\n        setUser(data.user);\n        setIsAuthenticated(false);\n    }\n  })\n}\n\n  const authenticatedNavBar = () => {\n    return(\n      <>\n      <Link onClick={() => toggleNav()} to=\"/movies\">Home</Link>\n      \n      <Link onClick={() => toggleNav()} to=\"/movies/schedule\">Schedule</Link>\n      <Link onClick={() => toggleNav()} to=\"/chat\">Chat</Link>\n      <Link onClick={onClickLogoutHandler} to=\"/\">LogOut</Link>\n\n      { user.role === 'admin' ?\n      <Link onClick={() => toggleNav()} to=\"/movies/addmovie\">Add movies</Link> : null\n      }\n      </>\n    )\n  }\n  return (\n    <nav className=\"nav-wrapper\">\n      <div className=\"burger\" onClick={e => toggleNav(e)}>\n        <div className='line1'></div>\n        <div className='line2'></div>\n        <div className='line3'></div>\n      </div>\n      {/* <Link className=\"nav-brand\" to=\"/\">iCinema</Link> */}\n      <div className='slider'>\n        <ul className='list'>\n          {!isAuthenticated ? unauthenticatedNavBar() : authenticatedNavBar()}\n          \n        </ul>\n      </div>\n    </nav>\n  )\n}\nconst mapStateToProps = state => {\n  return {\n    loggedIn: state.auth.loggedIn\n  }\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    signOut: () => dispatch(signOut())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);"]},"metadata":{},"sourceType":"module"}