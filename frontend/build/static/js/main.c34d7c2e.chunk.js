(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1251:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(9),c=t.n(l),i=(t(584),t(95)),s=t(96),o=t(99),u=t(97),m=t(100),d=t(1263),p=t(1266),h=t(1256),g=t(1264),f=t(70),v=t(44),E=t(94),b=t.n(E),y=function(e,a,t){return e?a&&t&&e[0].hasOwnProperty(t)&&a.trim()?e.filter(function(e){return e[t].toString().toLowerCase().startsWith(a.toString().toLowerCase())}):e:null},w=function(){return r.a.createElement("div",{style:Object(f.a)({background:"#292a2b",textAlign:"center",fontSize:"20px",height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},"fontSize","1rem")},r.a.createElement("p",{className:"text-white py-4 m-0"},"made by Shukaze"))},O=(t(351),t(588),function(e){var a=e.itemsCount,t=e.pageSize,n=e.onPageChange,l=e.currentPage,c=Math.ceil(a/t);if(1===c)return null;var i=b.a.range(1,c+1);return r.a.createElement("div",{className:"pagination-container"},r.a.createElement("ul",null,i.length>1&&i.map(function(e){return r.a.createElement("li",{onClick:function(){return n(e)},className:e===l?"page-active":"",key:e},e)})))}),N=(t(589),t(552)),S=function(e){var a=e.movies,t=e.currentPage,n=e.pageSize,l=a.slice((t-1)*n,n*t);return r.a.createElement("div",{className:"movies-grid"},!!a&&l.map(function(e){return r.a.createElement(N.a,{movie:e,key:e._id})}),"\xa0")},k=(t(596),t(555)),C=(t(599),function(e){var a=e.title,t=e.genre,n=(e.trailerLink,e.movieLength);return r.a.createElement("div",{className:"front"},r.a.createElement("h4",null," ",a," "),r.a.createElement("p",null," ",n," / ",t," "))}),j=(t(600),function(e){document.getElementById("".concat(e))}),x=function(e){var a=e.movie,t=a.title,n=(a.rate,a.genre),l=(a.image,a._id),c=(a.trailerLink,a.movieLength);return r.a.createElement("div",{className:"card-container"},r.a.createElement("div",{className:"card-wrapper",id:l,onClick:function(){return j(l)}},r.a.createElement(C,{movieLength:c,genre:n,title:t})))},I=t(71),_=t.n(I),P=(t(601),function(e){var a=e.startDate;return r.a.createElement("div",{className:"front"},r.a.createElement("h3",null," ",a," "))}),M=(t(602),function(e){var a=e.movie,t=a.startDate,n=a._id;return r.a.createElement("div",{className:"card-container"},r.a.createElement("div",{className:"card-wrapper",id:n},r.a.createElement(P,{startDate:_()(t).format("Do MMMM YYYY")})))}),D=function(e){var a=e.movies,t=e.currentPage,n=e.pageSize,l=a.slice((t-1)*n,n*t);return r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,!!a&&l.map(function(e){return r.a.createElement(k.a,{movie:e,key:e._id})})),r.a.createElement("th",null,!!a&&l.map(function(e){return r.a.createElement(x,{movie:e,key:e._id})})),r.a.createElement("th",null,!!a&&l.map(function(e){return r.a.createElement(M,{movie:e,key:e._id})}))))},L=t(263),q=(t(603),function(e){var a=e.label,t=Object(L.a)(e,["label"]);return r.a.createElement("button",Object.assign({className:"special-btn"},t)," ",a," ")}),T=(t(604),t(605),function(e){var a=e.onChange,t=e.active,n=e.options;return n.sort(),r.a.createElement("div",{className:"list-group"},r.a.createElement("li",{key:"all",className:R("All",t),onClick:function(){return a("All")}}," All"),n&&n.map(function(e){return r.a.createElement("li",{key:e._id,className:R(e.genre,t),onClick:function(){return a(e.genre)}},e.genre)}))});function R(e,a){return e===a?"list-group-item list-item list-item-active":"list-group-item list-item"}t(606);var A=function(e){var a=e.name,t=e.label,n=e.error,l=e.iconClass,c=Object(L.a)(e,["name","label","error","iconClass"]);return r.a.createElement("div",{className:"input-container"},t&&r.a.createElement("label",null," ",t," "),l&&r.a.createElement("div",{className:"input-icon ".concat(l)}),r.a.createElement("input",Object.assign({name:a},c)),n&&r.a.createElement("div",{className:"alert alert-danger"}," ",n," "))},F=(t(607),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}),r.a.createElement("div",{className:"square"}))}),z=(t(608),t(84)),G=t.n(z),B=t(143),V=t(41),U=t.n(V),W="login_user",Y="register_user",X="auth_user",H="logout_user",J="get_chat",$="after_post_message",K=function(){return function(){var e=Object(B.a)(G.a.mark(function e(a){var t;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("/api/movies");case 3:t=e.sent,a({type:"GET_MOVIES_SUCCESS",payload:t.data.movies}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({type:"GET_MOVIES_ERROR",error:e.t0});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a){return e.apply(this,arguments)}}()},Q=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={genres:[],pageSize:12,currentPage:1,currentGenre:"All",searchFilter:"",rating:0},t.handleChange=function(e,a){var n;t.setState((n={},Object(f.a)(n,e,a),Object(f.a)(n,"currentPage",1),n))},t.onPageChange=function(e){t.setState({currentPage:e})},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getMovies(),this.props.getGenres()}},{key:"render",value:function(){var e,a,t=this,n=this.state,l=n.currentGenre,c=n.currentPage,i=n.searchFilter,s=n.pageSize,o=n.rating,u=this.props,m=u.movies,d=u.genres,p=[];return b.a.isEmpty(m)?r.a.createElement("div",{className:"background-container pt-5"}," ",r.a.createElement(F,null)," "):(p=y(m,i,"title"),e=p,p=function(e,a){return 0===a?e:e.filter(function(e){return e.rate>=a})}(p="All"===(a=l)?e:e.filter(function(e){return e.genre===a}),o),r.a.createElement("div",{className:"background-container"},r.a.createElement("div",{className:"mx-5 py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-2 col-sm-12"},r.a.createElement("h4",{className:"text-muted text-left p-1"},"Filters"),r.a.createElement(T,{active:l,onChange:function(e){return t.handleChange("currentGenre",e)},options:d}),r.a.createElement(A,{onChange:function(e){return t.handleChange("rating",e.target.value)},label:"Rating",min:0,max:10,placeholder:"0-10",type:"number"})),r.a.createElement("div",{className:"col-lg-10 col-sm-12"},r.a.createElement(A,{onChange:function(e){return t.handleChange("searchFilter",e.target.value)},label:"Search Movie",iconClass:"fas fa-search",placeholder:"Search..."}),r.a.createElement("p",{className:"text-left text-muted"}," ",p.length?"".concat(p.length):"0"," movies found."),p?r.a.createElement(S,{pageSize:s,currentPage:c,movies:p}):r.a.createElement("h1",{className:"text-white"},"No Movies"),r.a.createElement("br",null),r.a.createElement(O,{itemsCount:p.length,pageSize:s,onPageChange:this.onPageChange,currentPage:c}))))))}}]),a}(n.Component),Z=Object(v.b)(function(e){return{movies:e.movie.movies,genres:e.genre.genres}},function(e){return{getMovies:function(){return e(K())},getGenres:function(){return e(function(){var e=Object(B.a)(G.a.mark(function e(a){var t;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("/api/genres");case 3:t=e.sent,a({type:"GET_GENRES_SUCCESS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({type:"GET_GENRES_ERROR",error:e.t0});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a){return e.apply(this,arguments)}}())}}})(Q),ee=function(){return r.a.createElement("h1",null,"Not Found")},ae=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={genres:[],pageSize:12,currentPage:1,searchFilter:""},t.handleChange=function(e,a){var n;t.setState((n={},Object(f.a)(n,e,a),Object(f.a)(n,"currentPage",1),n))},t.onPageChange=function(e){t.setState({currentPage:e})},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getMovies()}},{key:"render",value:function(){var e,a=this,t=this.state,n=t.currentPage,l=t.searchFilter,c=t.pageSize,i=this.props.movies;return b.a.isEmpty(i)?r.a.createElement("div",{className:"background-container pt-5"}," ",r.a.createElement(F,null)," "):(e=y(i,l,"title"),r.a.createElement("div",{className:"background-container"},r.a.createElement("div",{className:"mx-5 py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-10 col-sm-12"},r.a.createElement(A,{onChange:function(e){return a.handleChange("searchFilter",e.target.value)},label:"Search Movie",iconClass:"fas fa-search",placeholder:"Search..."}),e?r.a.createElement(D,{pageSize:c,currentPage:n,movies:e}):r.a.createElement("h1",{className:"text-white"},"No Movies"),r.a.createElement("br",null),r.a.createElement(O,{itemsCount:e.length,pageSize:c,onPageChange:this.onPageChange,currentPage:n}))))))}}]),a}(n.Component),te=Object(v.b)(function(e){return{movies:e.movie.movies}},function(e){return{getMovies:function(){return e(K())}}})(ae),ne=t(56),re=(t(628),t(1265)),le="/api/users",ce="/api/chat";var ie=t(259),se=t(78),oe=t(1257),ue=t(1258),me=t(1262),de=t(24),pe=t(1260),he=t(348),ge=oe.a.Title;var fe=Object(re.a)(function(e){var a=Object(v.c)(),t=!!localStorage.getItem("rememberMe"),l=Object(n.useState)(""),c=Object(ne.a)(l,2),i=c[0],s=c[1],o=Object(n.useState)(t),u=Object(ne.a)(o,2),m=u[0],d=u[1],p=function(){d(!m)},h=localStorage.getItem("rememberMe")?localStorage.getItem("rememberMe"):"";return r.a.createElement(ie.a,{initialValues:{email:h,password:""},validationSchema:se.object().shape({email:se.string().email("Email is invalid").required("Email is required"),password:se.string().min(6,"Password must be at least 6 characters").required("Password is required")}),onSubmit:function(t,n){var r=n.setSubmitting;setTimeout(function(){var n={email:t.email,password:t.password};a(function(e){var a=U.a.post("".concat(le,"/login"),e).then(function(e){return e.data});return{type:W,payload:a}}(n)).then(function(a){a.payload.loginSuccess?(window.localStorage.setItem("userId",a.payload.userId),!0===m?window.localStorage.setItem("rememberMe",t.id):localStorage.removeItem("rememberMe"),e.history.push("/")):s("Check out your Account or Password again")}).catch(function(e){s("Check out your Account or Password again"),setTimeout(function(){s("")},3e3)}),r(!1)},500)}},function(e){var a=e.values,t=e.touched,n=e.errors,l=(e.dirty,e.isSubmitting),c=e.handleChange,s=e.handleBlur,o=e.handleSubmit;return e.handleReset,r.a.createElement("div",{className:"app"},r.a.createElement(ge,{level:2},"Log In"),r.a.createElement("form",{onSubmit:o,style:{width:"350px"}},r.a.createElement(ue.a.Item,{required:!0},r.a.createElement(me.a,{id:"email",prefix:r.a.createElement(de.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter your email",type:"email",value:a.email,onChange:c,onBlur:s,className:n.email&&t.email?"text-input error":"text-input"}),n.email&&t.email&&r.a.createElement("div",{className:"input-feedback"},n.email)),r.a.createElement(ue.a.Item,{required:!0},r.a.createElement(me.a,{id:"password",prefix:r.a.createElement(de.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter your password",type:"password",value:a.password,onChange:c,onBlur:s,className:n.password&&t.password?"text-input error":"text-input"}),n.password&&t.password&&r.a.createElement("div",{className:"input-feedback"},n.password)),i&&r.a.createElement("label",null,r.a.createElement("p",{style:{color:"#ff0000bf",fontSize:"0.7rem",border:"1px solid",padding:"1rem",borderRadius:"10px"}},i)),r.a.createElement(ue.a.Item,null,r.a.createElement(pe.a,{id:"rememberMe",onChange:p,checked:m},"Remember me"),r.a.createElement("a",{className:"login-form-forgot",href:"/reset_user",style:{float:"right"}},"forgot password"),r.a.createElement("div",null,r.a.createElement(he.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{minWidth:"100%"},disabled:l,onSubmit:o},"Log in")),"Or ",r.a.createElement("a",{href:"/register"},"register now!"))))})}),ve=t(1259);ve.a.SubMenu,ve.a.ItemGroup;var Ee=function(e){return r.a.createElement(ve.a,{mode:e.mode},r.a.createElement(ve.a.Item,{key:"mail"},r.a.createElement("a",{href:"/"},"Home")),r.a.createElement(ve.a.Item,{key:"chat"},r.a.createElement("a",{href:"/chat"},"Chat")),r.a.createElement(ve.a.Item,{key:"schedule"},r.a.createElement("a",{href:"/movies/schedule"},"Schedule")))};var be=Object(re.a)(function(e){var a=Object(v.d)(function(e){return e.user});return a.userData&&!a.userData.isAuth?r.a.createElement(ve.a,{mode:e.mode},r.a.createElement(ve.a.Item,{key:"mail"},r.a.createElement("a",{href:"/login"},"Signin")),r.a.createElement(ve.a.Item,{key:"app"},r.a.createElement("a",{href:"/register"},"Signup"))):r.a.createElement(ve.a,{mode:e.mode},r.a.createElement(ve.a.Item,{key:"logout"},r.a.createElement("a",{onClick:function(){U.a.get("".concat(le,"/logout")).then(function(a){200===a.status?e.history.push("/login"):alert("Log Out Failed")})}},"Logout")))}),ye=t(1261);t(854);var we=function(){var e=Object(n.useState)(!1),a=Object(ne.a)(e,2),t=a[0],l=a[1];return r.a.createElement("nav",{className:"menu",style:{position:"relative",zIndex:1,width:"100%"}},r.a.createElement("div",{className:"menu__logo"},r.a.createElement("a",{href:"/"},"Margo")),r.a.createElement("div",{className:"menu__container"},r.a.createElement("div",{className:"menu_left"},r.a.createElement(Ee,{mode:"horizontal"})),r.a.createElement("div",{className:"menu_rigth"},r.a.createElement(be,{mode:"horizontal"})),r.a.createElement(he.a,{className:"menu__mobile-button",type:"primary",onClick:function(){l(!0)}},r.a.createElement(de.a,{type:"align-right"})),r.a.createElement(ye.a,{title:"Basic Drawer",placement:"right",className:"menu_drawer",closable:!1,onClose:function(){l(!1)},visible:t},r.a.createElement(Ee,{mode:"inline"}),r.a.createElement(be,{mode:"inline"}))))},Oe=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(l){var c=Object(v.d)(function(e){return e.user}),i=Object(v.c)();return Object(n.useEffect)(function(){i(function(){var e=U.a.get("".concat(le,"/auth")).then(function(e){return e.data});return{type:X,payload:e}}()).then(function(){var e=Object(B.a)(G.a.mark(function e(n){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,!n.payload.isAuth;case 2:if(!e.sent){e.next=6;break}a&&l.history.push("/register_login"),e.next=7;break;case 6:t&&!n.payload.isAdmin?l.history.push("/"):!1===a&&l.history.push("/");case 7:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}())},[i,l.history,c.googleAuth]),r.a.createElement(e,Object.assign({},l,{user:c}))}},Ne=(t(855),{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),Se={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};var ke=function(e){var a=Object(v.c)();return r.a.createElement(ie.a,{initialValues:{email:"",lastName:"",name:"",password:"",confirmPassword:""},validationSchema:se.object().shape({name:se.string().required("Name is required"),lastName:se.string().required("Last Name is required"),email:se.string().email("Email is invalid").required("Email is required"),password:se.string().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:se.string().oneOf([se.ref("password"),null],"Passwords must match").required("Confirm Password is required")}),onSubmit:function(t,n){var r=n.setSubmitting;setTimeout(function(){var n={email:t.email,password:t.password,name:t.name,lastname:t.lastname,image:"http://gravatar.com/avatar/".concat(_()().unix(),"?d=identicon")};a(function(e){var a=U.a.post("".concat(le,"/register"),e).then(function(e){return e.data});return{type:Y,payload:a}}(n)).then(function(a){a.payload.success?e.history.push("/login"):alert(a.payload.err.errmsg)}),r(!1)},500)}},function(e){var a=e.values,t=e.touched,n=e.errors,l=(e.dirty,e.isSubmitting),c=e.handleChange,i=e.handleBlur,s=e.handleSubmit;return e.handleReset,r.a.createElement("div",{className:"app"},r.a.createElement("h2",null,"Sign up"),r.a.createElement(ue.a,Object.assign({style:{minWidth:"375px"}},Ne,{onSubmit:s}),r.a.createElement(ue.a.Item,{required:!0,label:"Name"},r.a.createElement(me.a,{id:"name",placeholder:"Enter your name",type:"text",value:a.name,onChange:c,onBlur:i,className:n.name&&t.name?"text-input error":"text-input"}),n.name&&t.name&&r.a.createElement("div",{className:"input-feedback"},n.name)),r.a.createElement(ue.a.Item,{required:!0,label:"Last Name"},r.a.createElement(me.a,{id:"lastName",placeholder:"Enter your Last Name",type:"text",value:a.lastName,onChange:c,onBlur:i,className:n.lastName&&t.lastName?"text-input error":"text-input"}),n.lastName&&t.lastName&&r.a.createElement("div",{className:"input-feedback"},n.lastName)),r.a.createElement(ue.a.Item,{required:!0,label:"Email",hasFeedback:!0,validateStatus:n.email&&t.email?"error":"success"},r.a.createElement(me.a,{id:"email",placeholder:"Enter your Email",type:"email",value:a.email,onChange:c,onBlur:i,className:n.email&&t.email?"text-input error":"text-input"}),n.email&&t.email&&r.a.createElement("div",{className:"input-feedback"},n.email)),r.a.createElement(ue.a.Item,{required:!0,label:"Password",hasFeedback:!0,validateStatus:n.password&&t.password?"error":"success"},r.a.createElement(me.a,{id:"password",placeholder:"Enter your password",type:"password",value:a.password,onChange:c,onBlur:i,className:n.password&&t.password?"text-input error":"text-input"}),n.password&&t.password&&r.a.createElement("div",{className:"input-feedback"},n.password)),r.a.createElement(ue.a.Item,{required:!0,label:"Confirm",hasFeedback:!0},r.a.createElement(me.a,{id:"confirmPassword",placeholder:"Enter your confirmPassword",type:"password",value:a.confirmPassword,onChange:c,onBlur:i,className:n.confirmPassword&&t.confirmPassword?"text-input error":"text-input"}),n.confirmPassword&&t.confirmPassword&&r.a.createElement("div",{className:"input-feedback"},n.confirmPassword)),r.a.createElement(ue.a.Item,Se,r.a.createElement(he.a,{onClick:s,type:"primary",disabled:l},"Submit"))))})},Ce=t(36),je=t(79),xe=t.n(je),Ie=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={data:{title:"",genre:"",numberInStock:"",description:"",image:null,rate:"",trailerLink:"",movieLength:""},genres:[],errors:{}},t.schema={id:xe.a.string(),title:xe.a.string().required().label("Title"),genre:xe.a.string().required().label("Genre"),numberInStock:xe.a.number().min(0).required().label("Number In Stocks"),description:xe.a.string().required().label("Description"),image:xe.a.object().allow(null).label("Cover Image"),rate:xe.a.string().required().label("Rate"),trailerLink:xe.a.string().required().label("Trailer Link"),movieLength:xe.a.string().required().label("Movie Length")},t.handleChange=function(e){var a=e.currentTarget,n=Object(Ce.a)({},t.state.errors),r=t.validateProperty(a);r?n[a.name]=r:delete n[a.name];var l=Object(Ce.a)({},t.state.data);l[a.name]=a.value,t.setState({data:l,errors:n})},t.validateProperty=function(e){var a=e.name,n=e.value,r=Object(f.a)({},a,n),l=Object(f.a)({},a,t.schema[a]),c=xe.a.validate(r,l).error;return c?c.details[0].message:null},t.handleSubmit=function(e){e.preventDefault(),t.props.addMovie(t.state.data)},t.uploadImage=function(e){if(e.target.files[0]){var a=Object(Ce.a)({},t.state.data);a.image=e.target.files[0],t.setState({data:a})}},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.state,a=e.errors,t=e.data;t.title,t.genre,t.numberInStock,t.description,t.rate,t.trailerLink,t.movieLength,this.props.genres;return r.a.createElement("div",{className:"background-container pt-5"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"header"},"Add a new movie"),r.a.createElement("form",{onSubmit:this.handleSubmit,encType:"multipart/form-data"},r.a.createElement(A,{name:"title",label:"Title",onChange:this.handleChange,placeholder:"Enter the title...",iconClass:"fas fa-film",autoFocus:!0}),r.a.createElement(A,{name:"genre",label:"Genre",onChange:this.handleChange,iconClass:"fas fa-address-card"}),r.a.createElement(A,{name:"numberInStock",label:"Number In Stock",onChange:this.handleChange,placeholder:"Enter numbers the stock...",iconClass:"fas fa-hashtag",type:"number"}),r.a.createElement(A,{name:"image",label:"Cover Image",onChange:this.uploadImage,error:a.coverImage,iconClass:"fas fa-file-image",accept:"image/*",type:"file"}),r.a.createElement(A,{name:"rate",label:"Rate",placeholder:"Enter rate about this movie...",iconClass:"fas fa-info",type:"textarea"}),r.a.createElement(A,{name:"trailerLink",label:"Trailer Link",placeholder:"Enter link about this movie...",iconClass:"fas fa-info",type:"textarea"}),r.a.createElement(A,{name:"movieLength",label:"Movie Length",placeholder:"Enter length about this movie...",iconClass:"fas fa-info",type:"textarea"}),r.a.createElement(A,{name:"description",label:"Description",placeholder:"Enter description about this movie...",iconClass:"fas fa-info",error:a.description,type:"textarea"}),r.a.createElement(q,{type:"submit",label:"Add movie"}))))}}]),a}(r.a.Component),_e=Object(v.b)(function(e){return{genres:e.genre.genres}},function(e){return{addMovie:function(a){return e(function(e){var a={headers:{"content-type":"multipart/form-data"}},t=new FormData;return t.append("title",e.title),t.append("numberInStock",e.numberInStock),t.append("genre",e.genre),t.append("image",e.image),t.append("rate",e.rate),t.append("trailerLink",e.trailerLink),t.append("movieLength",e.movieLength),t.append("description",e.description),function(){var e=Object(B.a)(G.a.mark(function e(n){var r;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("/movies/addmovie",t,a);case 3:r=e.sent,n({type:"ADD_MOVIE_SUCCESS",payload:r.data.movies}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({type:"ADD_MOVIE_ERROR",error:e.t0});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a){return e.apply(this,arguments)}}()}(a))}}})(Ie),Pe=t(1254),Me=t(1255),De=t(571),Le=t.n(De);var qe=t(1252),Te=t(1253),Re=t(197);var Ae=function(e){return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(qe.a,{author:e.sender.name,avatar:r.a.createElement(Te.a,{src:e.sender.image,alt:e.sender.name}),content:"uploads/"===e.message.substring(0,8)?"mp4"===e.message.substring(e.message.length-3,e.message.length)?r.a.createElement("video",{style:{maxWidth:"200px"},src:"http://localhost:5000/".concat(e.message),alt:"video",type:"video/mp4",controls:!0}):r.a.createElement("img",{style:{maxWidth:"200px"},src:"http://localhost:5000/".concat(e.message),alt:"img"}):r.a.createElement("p",{style:{color:"black"}},e.message),datetime:r.a.createElement(Re.a,{title:_()().format("YYYY-MM-DD HH:mm:ss")},r.a.createElement("span",null,_()().fromNow()))}))},Fe=t(260),ze=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(l)))).state={chatMessage:""},t.hanleSearchChange=function(e){t.setState({chatMessage:e.target.value})},t.renderCards=function(){return t.props.chats.chats&&t.props.chats.chats.map(function(e){return r.a.createElement(Ae,Object.assign({key:e._id},e))})},t.onDrop=function(e){if(console.log(e),t.props.user.userData&&!t.props.user.userData.isAuth)return alert("Please Log in first");var a=new FormData;a.append("file",e[0]),U.a.post("/chat/uploadfiles",a,{header:{"content-type":"multipart/form-data"}}).then(function(e){if(e.data.success){var a=e.data.url,n=t.props.user.userData._id,r=t.props.user.userData.name,l=t.props.user.userData.image,c=_()();t.socket.emit("Input Chat Message",{chatMessage:a,userId:n,userName:r,userImage:l,nowTime:c,type:"VideoOrImage"})}})},t.submitChatMessage=function(e){if(e.preventDefault(),t.props.user.userData&&!t.props.user.userData.isAuth)return alert("Please Log in first");var a=t.state.chatMessage,n=t.props.user.userData._id,r=t.props.user.userData.name,l=t.props.user.userData.image,c=_()();t.socket.emit("Input Chat Message",{chatMessage:a,userId:n,userName:r,userImage:l,nowTime:c,type:"Text"}),t.setState({chatMessage:""})},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(function(){var e=U.a.get("".concat(ce,"/getChats")).then(function(e){return e.data});return{type:J,payload:e}}()),this.socket=Le()("http://localhost:5000"),this.socket.on("Output Chat Message",function(a){console.log(a),e.props.dispatch({type:$,payload:a})})}},{key:"componentDidUpdate",value:function(){this.messagesEnd.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("p",{style:{color:"black",fontSize:"2rem",textAlign:"center"}}," Real Time Chat")),r.a.createElement("div",{style:{maxWidth:"800px",margin:"0 auto"}},r.a.createElement("div",{className:"infinite-container",style:{color:"black",height:"500px",overflowY:"scroll"}},this.props.chats&&this.renderCards(),r.a.createElement("div",{ref:function(a){e.messagesEnd=a},style:{float:"left",clear:"both"}})),r.a.createElement(Pe.a,null,r.a.createElement(ue.a,{layout:"inline",onSubmit:this.submitChatMessage},r.a.createElement(Me.a,{span:18},r.a.createElement(me.a,{id:"message",prefix:r.a.createElement(de.a,{type:"message",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Let's start talking",type:"text",value:this.state.chatMessage,onChange:this.hanleSearchChange})),r.a.createElement(Me.a,{span:2},r.a.createElement(Fe.a,{onDrop:this.onDrop},function(e){var a=e.getRootProps,t=e.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",a(),r.a.createElement("input",t()),r.a.createElement(he.a,null,r.a.createElement(de.a,{type:"upload"}))))})),r.a.createElement(Me.a,{span:4},r.a.createElement(he.a,{type:"primary",style:{width:"100%"},onClick:this.submitChatMessage,htmlType:"submit"},r.a.createElement(de.a,{type:"enter"})))))))}}]),a}(n.Component),Ge=Object(v.b)(function(e){return{user:e.user,chats:e.chat}})(ze),Be=t(266);var Ve=function(e){var a=Object(n.useState)([]),t=Object(ne.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(Fe.a,{onDrop:function(a){var t=new FormData;t.append("file",a[0]),U.a.post("/movies/uploadImage",t,{header:{"content-type":"multipart/form-data"}}).then(function(a){a.data.success?(c([].concat(Object(Be.a)(l),[a.data.image])),e.refreshFunction([].concat(Object(Be.a)(l),[a.data.image]))):alert("Failed to save the Image in Server")})},multiple:!1,maxSize:8e8},function(e){var a=e.getRootProps,t=e.getInputProps;return r.a.createElement("div",Object.assign({style:{width:"300px",height:"240px",border:"1px solid lightgray",display:"flex",alignItems:"center",justifyContent:"center"}},a()),console.log("getRootProps",Object(Ce.a)({},a())),console.log("getInputProps",Object(Ce.a)({},t())),r.a.createElement("input",t()),r.a.createElement("icon",{type:"plus",style:{fontSize:"3rem"}}))}),r.a.createElement("div",{style:{display:"flex",width:"350px",height:"240px",overflowX:"scroll"}},l.map(function(a,t){return r.a.createElement("div",{onClick:function(){return function(a){var t=l.indexOf(a),n=Object(Be.a)(l);n.splice(t,1),c(n),e.refreshFunction(n)}(a)}},r.a.createElement("img",{style:{minWidth:"300px",width:"300px",height:"240px"},src:"http://localhost:5000/".concat(a),alt:"movieImg-".concat(t)}))})))},Ue=[{key:1,value:"Action"},{key:2,value:"Horror"},{key:3,value:"Fantasy"},{key:4,value:"Comedy"},{key:5,value:"Thriller"},{key:6,value:"Drama"},{key:7,value:"Animation"}];var We=function(e){var a=Object(n.useState)(""),t=Object(ne.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)(""),s=Object(ne.a)(i,2),o=s[0],u=s[1],m=Object(n.useState)(""),d=Object(ne.a)(m,2),p=d[0],h=d[1],g=Object(n.useState)(""),f=Object(ne.a)(g,2),v=f[0],E=f[1],b=Object(n.useState)(""),y=Object(ne.a)(b,2),w=y[0],O=y[1],N=Object(n.useState)(0),S=Object(ne.a)(N,2),k=S[0],C=S[1],j=Object(n.useState)(1),x=Object(ne.a)(j,2),I=x[0],_=x[1],P=Object(n.useState)([]),M=Object(ne.a)(P,2),D=M[0],L=M[1],T=function(a){if(a.preventDefault(),!l||!o||!k||!I||!p||!v||!w||!D)return alert("fill all the fields first!");var t={title:l,description:o,numberInStocks:k,images:D,genre:I,rate:p,trailerLink:v,movieLength:w};U.a.post("/movies/uploadMovie",t).then(function(a){a.data.success?(alert("Product Successfully Uploaded"),e.history.push("/")):alert("Failed to upload Product")})};return r.a.createElement("div",{className:"background-container pt-5"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"header"},"Add a new movie"),r.a.createElement("form",{onSubmit:T},r.a.createElement(Ve,{refreshFunction:function(e){console.log(e),L(e)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Title"),r.a.createElement(A,{onChange:function(e){c(e.currentTarget.value)},value:l}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"NumbeInStocks"),r.a.createElement(A,{onChange:function(e){C(e.currentTarget.value)},value:k,type:"number"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("select",{onChange:function(e){_(e.currentTarget.value)},value:I},Ue.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value," ")})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(A,{onChange:function(e){h(e.currentTarget.value)},value:p}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(A,{onChange:function(e){E(e.currentTarget.value)},value:v}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(A,{onChange:function(e){O(e.currentTarget.value)},value:w}),r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{onChange:function(e){u(e.currentTarget.value)},value:o}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(q,{onClick:T},"Submit"))))},Ye=function(e){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(we,null),r.a.createElement(p.a,null,r.a.createElement(h.a,{exact:!0,path:"/movies/uploadMovie",component:We}),r.a.createElement(h.a,{exact:!0,path:"/movies/addmovie",component:Oe(_e,null)}),r.a.createElement(h.a,{exact:!0,path:"/movies/schedule",component:Oe(te,null)}),r.a.createElement(h.a,{exact:!0,path:"/chat",component:Oe(Ge,null)}),r.a.createElement(h.a,{exact:!0,path:"/login",component:Oe(fe,null)}),r.a.createElement(h.a,{exact:!0,path:"/register",component:Oe(ke,null)}),r.a.createElement(h.a,{exact:!0,path:"/movies",component:Oe(Z,null)}),r.a.createElement(h.a,{path:"/not-found",component:Oe(ee,null)}),r.a.createElement(g.a,{exact:!0,from:"/",to:"/movies"}),r.a.createElement(g.a,{to:"not-found"})),r.a.createElement(w,null)))}}]),a}(n.Component);t(932),t(442),t(947),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Xe=t(142),He={movies:[],movie:{},error:null},Je={genres:[],newGenre:{},error:null},$e=Object(Xe.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Y:return Object(Ce.a)({},e,{register:a.payload});case W:return Object(Ce.a)({},e,{loginSucces:a.payload});case X:return Object(Ce.a)({},e,{userData:a.payload});case H:return Object(Ce.a)({},e);default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case J:return Object(Ce.a)({},e,{chats:a.payload});case $:return Object(Ce.a)({},e,{chats:e.chats.concat(a.payload)});default:return e}},movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_MOVIES_SUCCESS":return Object(Ce.a)({},e,{movies:a.payload});case"GET_MOVIES_ERROR":return Object(Ce.a)({},e,{error:a.error});default:return e}},genre:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_GENRES_SUCCESS":return Object(Ce.a)({},e,{genres:a.payload});case"GET_GENRES_ERROR":return Object(Ce.a)({},e,{error:a.error});default:return e}}}),Ke=t(573),Qe=t.n(Ke),Ze=t(574),ea=Object(Xe.a)(Qe.a,Ze.a)(Xe.d);c.a.render(r.a.createElement(v.a,{store:ea($e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(d.a,null,r.a.createElement(Ye,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},351:function(e,a){},552:function(e,a,t){"use strict";(function(e){var n=t(0),r=t.n(n),l=t(553),c=t(554),i=(t(595),function(e){document.getElementById("".concat(e)).classList.toggle("flipped")});a.a=function(a){var t=a.movie,n=t.title,s=t.rate,o=t.genre,u=t.image,m=t.description,d=t._id,p=t.trailerLink,h=t.movieLength,g="data:image/jpeg;base64,"+new e(u.data,"binary").toString("base64");return r.a.createElement("div",{className:"card-container"},r.a.createElement("div",{className:"card-wrapper",id:d,onClick:function(){return i(d)}},r.a.createElement(l.a,{trailerLink:p,coverImage:g,rate:s,movieLength:h,genre:o,title:n}),r.a.createElement(c.a,{description:m})))}}).call(this,t(73).Buffer)},553:function(e,a,t){"use strict";var n=t(0),r=t.n(n);t(593);a.a=function(e){var a=e.coverImage,t=e.rate,n=e.title,l=e.genre,c=e.trailerLink,i=e.movieLength;return r.a.createElement("div",{className:"front"},r.a.createElement("img",{src:a,alt:"coverImage"}),r.a.createElement("div",{className:"card-footer"},r.a.createElement("h4",null," ",n," "),r.a.createElement("p",null," ",i," / ",l," "),r.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"trailer-btn"},"watch trailer")),r.a.createElement("span",{className:"like"}," ",t))}},554:function(e,a,t){"use strict";var n=t(0),r=t.n(n);t(594);a.a=function(e){e.ToggleFavouriteCard,e.id,e.liked;var a=e.description;return r.a.createElement("div",{className:"back"},r.a.createElement("h5",null," Summary "),r.a.createElement("p",null," ",a," "))}},555:function(e,a,t){"use strict";(function(e){var n=t(0),r=t.n(n),l=t(556);t(598);a.a=function(a){var t=a.movie,n=(t.title,t.rate,t.genre,t.image),c=(t.description,t._id),i=(t.trailerLink,t.movieLength,"data:image/jpeg;base64,"+new e(n.data,"binary").toString("base64"));return r.a.createElement("div",{className:"card-container"},r.a.createElement("div",{className:"card-wrapper",id:c},r.a.createElement(l.a,{coverImage:i})))}}).call(this,t(73).Buffer)},556:function(e,a,t){"use strict";var n=t(0),r=t.n(n);t(597);a.a=function(e){var a=e.coverImage;return r.a.createElement("div",{className:"front"},r.a.createElement("img",{src:a,alt:"coverImage"}))}},579:function(e,a,t){e.exports=t(1251)},584:function(e,a,t){},588:function(e,a,t){},589:function(e,a,t){},593:function(e,a,t){},594:function(e,a,t){},595:function(e,a,t){},596:function(e,a,t){},597:function(e,a,t){},598:function(e,a,t){},599:function(e,a,t){},600:function(e,a,t){},601:function(e,a,t){},602:function(e,a,t){},603:function(e,a,t){},604:function(e,a,t){},605:function(e,a,t){},606:function(e,a,t){},607:function(e,a,t){},608:function(e,a,t){},628:function(e,a,t){},854:function(e,a,t){},855:function(e,a,t){},929:function(e,a){}},[[579,1,2]]]);
//# sourceMappingURL=main.c34d7c2e.chunk.js.map